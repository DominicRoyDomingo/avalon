(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{118:function(e,t,n){},119:function(e,t,n){},145:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(10),i=n.n(c),o=(n(118),n(119),n(20)),s=n(13),l=n(16),d=n(176),u=n(213),j=n(178),b=n(180),m=n(147),h=n(181),p=n(182),g=n(184),O=n(101),_=n(219),f=n(183),x=n(185),y=n(12),v=n(17),S=n.n(v),I=n(26),N="USER_LOGIN_REQUEST",L="USER_LOGIN_SUCCESS",E="USER_LOGIN_FAIL",k="USER_LOGOUT",w="USER_REGISTER_REQUEST",C="USER_REGISTER_SUCCESS",T="USER_REGISTER_FAIL",R="USER_PROFILE_REQUEST",P="USER_PROFILE_SUCCESS",U="USER_PROFILE_FAIL",A="UPDATE_PROFILE_REQUEST",W="UPDATE_PROFILE_SUCCESS",F="UPDATE_PROFILE_FAIL",z="UPDATE_PROFILE_RESET",D="DELETE_PROFILE_REQUEST",q="DELETE_PROFILE_SUCCESS",B="DELETE_PROFILE_FAIL",M=n(32),G=n.n(M),Q="/api/v1/items",J="/api/v1/users",V=function(){return function(e){localStorage.removeItem("userInfo"),e({type:k})}},$=n(66),H=n(2),Y=Object(d.a)((function(){return{header__container:{justifyContent:"space-between"},header__button:{borderRadius:0,margin:"0 10px",fontWeight:700},header__button_icon:{fontSize:20}}})),K=function(){var e=Y(),t=r.a.useState(null),n=Object(l.a)(t,2),a=n[0],c=n[1],i=Object(y.c)((function(e){return e.cart})).cartItems,s=Object(y.b)(),d=Object(y.c)((function(e){return e.userLogin})).userInfo,v=function(){c(null)};return Object(H.jsx)(u.a,{component:"header",className:e.header,children:Object(H.jsx)(j.a,{position:"static",color:"primary",elevation:0,children:Object(H.jsxs)(b.a,{className:e.header__container,children:[Object(H.jsx)(o.b,{to:"/",children:Object(H.jsx)(m.a,{variant:"h1",className:e.header__title,children:"AVALON"})}),Object(H.jsxs)(u.a,{className:e.header__buttons,children:[Object(H.jsx)(h.a,{className:e.header__button_icon,children:Object(H.jsx)(p.a,{badgeContent:i.length,className:e.header__button_badge,style:{color:$.a[900]},children:Object(H.jsx)(o.b,{to:"/cart",children:Object(H.jsx)(f.a,{color:"secondary"})})})}),Object(H.jsx)(g.a,{"aria-controls":"account__menu","aria-haspopup":"true",onClick:function(e){c(e.currentTarget)},startIcon:Object(H.jsx)(x.a,{}),variant:"outlined",className:e.header__button,children:d?d.name:"Account"}),Object(H.jsxs)(O.a,{id:"account__menu",anchorEl:a,open:Boolean(a),onClose:v,children:[Object(H.jsx)(_.a,{onClick:v,children:d?Object(H.jsx)(o.b,{to:"/profile",children:"View Profile"}):Object(H.jsx)(o.b,{to:"/login",children:"Login"})}),Object(H.jsx)(_.a,{onClick:v,children:d?Object(H.jsx)(o.b,{to:"#",onClick:function(){s(V())},children:"Logout"}):Object(H.jsx)(o.b,{to:"/registration",children:"Sign up"})})]})]})]})})})},X=n(211),Z=n(99),ee=n(187),te=Object(Z.a)({palette:{primary:{main:"#fff"},secondary:{main:"#333"},error:{main:$.a[400]},focus:{main:ee.a[800]}},typography:{h1:{fontFamily:"Nova Slim",fontSize:36},fontFamily:"Montserrat",subtitle1:{lineHeight:1.5,paddingLeft:10,opacity:.8},subtitle2:{fontWeight:600}}}),ne=n(189),ae=n(190),re=n(191),ce=n(192),ie="ITEM_LIST_REQUEST",oe="ITEM_LIST_SUCCESS",se="ITEM_LIST_FAIL",le="ITEM_DETAIL_REQUEST",de="ITEM_DETAIL_SUCCESS",ue="ITEM_DETAIL_FAIL",je=n(215),be=function(e){var t=e.severity,n=e.children;return Object(H.jsx)(je.a,{severity:t,children:n})},me=n(188),he=Object(d.a)((function(){return{loading:{width:"25%",margin:"1% auto",padding:100},loading__bar:{margin:"auto"},loading__text:{textAlign:"center",padding:10,fontWeight:"bold"}}})),pe=function(e){var t=e.color,n=void 0===t?"secondary":t,a=he();return Object(H.jsxs)(u.a,{className:a.loading,children:[Object(H.jsx)(me.a,{color:"secondary",className:a.loading__bar}),Object(H.jsx)(m.a,{className:a.loading__text,color:n,children:"Loading"})]})},ge=Object(d.a)((function(e){return{root:{margin:"auto",width:"80%",padding:50},trending__container:{display:"flex",flexWrap:"wrap",justifyContent:"flex-start",alignContent:"flex-start",overflow:"hidden"},trending__item:{margin:"30px auto",maxWidth:400,minWidth:300},trending__brand:{fontWeight:400,color:"#e0e0e0"},trending__more:{marginTop:10},trending__info:{height:"100%",transition:"all 1s ease-in-out",cursor:"pointer"},trending__price:{marginTop:50,fontWeight:900},rating__container:{marginTop:30,color:"#ffdd08",bottom:0,"& > *":{marginTop:5}},rating__icon:{fontSize:15}}})),Oe=function(){var e=ge(),t=Object(y.b)(),n=Object(y.c)((function(e){return e.itemList})),c=n.isLoading,i=n.error,s=n.items;return Object(a.useEffect)((function(){t(function(){var e=Object(I.a)(S.a.mark((function e(t){var n,a;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:ie}),e.next=4,G()({method:"get",baseURL:Q,url:"/"});case 4:n=e.sent,a=n.data,t({type:oe,payload:a}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(0),t({type:se,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 12:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t){return e.apply(this,arguments)}}())}),[t]),Object(H.jsx)(r.a.Fragment,{children:c?Object(H.jsx)(pe,{}):i?Object(H.jsx)(be,{severity:"error",children:i}):Object(H.jsxs)(u.a,{component:"section",className:e.root,children:[Object(H.jsx)(m.a,{variant:"h4",children:"Top Picks"}),Object(H.jsx)(ne.a,{cellHeight:250,className:e.trending__container,children:s.map((function(t){return Object(H.jsxs)(ae.a,{className:e.trending__item,children:[Object(H.jsx)("img",{src:t.image,alt:t.name}),Object(H.jsx)(re.a,{className:e.trending__info,title:Object(H.jsx)("h1",{className:e.trending__name,children:t.name}),subtitle:Object(H.jsx)(o.b,{to:"/item/"+t._id,children:Object(H.jsxs)("div",{className:e.trending__more,children:[Object(H.jsxs)("h3",{className:e.trending__brand,children:["by ",t.brand]}),Object(H.jsxs)("h2",{className:e.trending__price,children:["$ ",t.price]}),Object(H.jsxs)("div",{className:e.rating__container,children:[Object(H.jsxs)("h3",{children:["Rated ",t.rating,Object(H.jsx)(ce.a,{className:e.rating__icon})]}),Object(H.jsxs)("h3",{children:["(",t.numReviews," Reviews)"]})]})]})})})]},t._id)}))})]})})},_e=n.p+"static/media/heels.2db8094f.jpg",fe=Object(d.a)((function(e){return{highlight:{margin:"auto",padding:50,background:"url(".concat(_e,") rgba(0, 0, 0, 0.6)"),backgroundSize:"cover",backgroundBlendMode:"multiply",backgroundPosition:"right",height:400},highlight__title:{textAlign:"center",fontSize:"4em",fontWeight:900,textTransform:"uppercase",borderTop:"12px solid #ffdd08",borderBottom:"12px solid #ffdd08",width:450,color:"#ffdd08",margin:"2% auto auto 8%",padding:"10px 0"}}})),xe=function(){var e=fe();return Object(H.jsx)(u.a,{component:"section",className:e.highlight,children:Object(H.jsx)(m.a,{component:"h1",className:e.highlight__title,children:"Buy Anything, Everything"})})},ye=function(){return Object(H.jsxs)(u.a,{children:[Object(H.jsx)(xe,{}),Object(H.jsx)(Oe,{})]})},ve=n(216),Se=n(193),Ie=n(212),Ne=n.p+"static/media/leather.871a96cc.jpg",Le=Object(d.a)((function(){return{form__container:{background:"rgba(255,255,255, 0.85)",width:"25%",padding:50,borderRadius:5,margin:"auto"},form__error:{marginBottom:10}}})),Ee=function(e){var t=e.isLoading,n=e.error,a=e.children,c=Le();return Object(H.jsx)(r.a.Fragment,{children:t?Object(H.jsx)(pe,{color:"primary"}):Object(H.jsx)(H.Fragment,{children:Object(H.jsxs)(u.a,{className:c.form__container,children:[n&&Object(H.jsx)(Se.a,{className:c.form__error,children:Object(H.jsx)(be,{severity:"error",children:n})}),a]})})})},ke=n(194),we=Object(d.a)((function(){return{login:{margin:"auto",height:"93.5vh",background:"url(".concat(Ne,") rgba(0, 0, 0, 0.6)"),backgroundSize:"cover",backgroundBlendMode:"multiply",backgroundPosition:"right",padding:50},login__title_container:{marginBottom:30},login__title:{fontWeight:"bold",textTransform:"uppercase"},login__form_button:{marginTop:20,marginBottom:10,fontWeight:"bold"},login__register_link:{marginTop:10}}})),Ce=function(e){var t=e.location,n=we(),r=Object(s.e)(),c=Object(a.useState)(null),i=Object(l.a)(c,2),d=i[0],j=i[1],b=Object(a.useState)(null),p=Object(l.a)(b,2),O=p[0],_=p[1],f=Object(a.useState)(!1),x=Object(l.a)(f,2),v=x[0],k=x[1],w=Object(y.b)(),C=Object(y.c)((function(e){return e.userLogin})),T=C.isLoading,R=C.error,P=C.userInfo,U=Object(y.c)((function(e){return e.deleteProfile})).deleteSuccess,A=t.search?t.search.split("=")[1]:"/",W=function(e){e.preventDefault(),w(function(e,t){return function(){var n=Object(I.a)(S.a.mark((function n(a){var r,c;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a({type:N}),n.next=4,G()({method:"post",baseURL:J,url:"/login",headers:{"Content-Type":"application/json"},data:{email:e,password:t}});case 4:r=n.sent,c=r.data,a({type:L,payload:c}),localStorage.setItem("userInfo",JSON.stringify(c)),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),a({type:E,payload:n.t0.response&&n.t0.response.data.message?n.t0.response.data.message:n.t0.message});case 13:case"end":return n.stop()}}),n,null,[[0,10]])})));return function(e){return n.apply(this,arguments)}}()}(d,O))};return Object(a.useEffect)((function(){P&&r.push(A),U&&k(!0)}),[r,P,A,U]),Object(H.jsx)(u.a,{component:"section",className:n.login,children:Object(H.jsxs)(Ee,{isLoading:T,error:R,children:[Object(H.jsx)(ve.a,{open:v,anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:5e3,children:Object(H.jsxs)(je.a,{severity:"success",children:["Your account is now deleted"," ",Object(H.jsx)(h.a,{size:"small","aria-label":"close",color:"inherit",onClick:function(){return k(!1)},children:Object(H.jsx)(ke.a,{fontSize:"small"})})]})}),Object(H.jsx)(Se.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:n.login__title_container,children:Object(H.jsx)(m.a,{variant:"h5",className:n.login__title,children:"Sign back in"})}),Object(H.jsx)(u.a,{component:"form",className:n.login__form,noValidate:!0,autoComplete:"off",onSubmit:function(e){return W(e)},children:Object(H.jsxs)(Se.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:n.login__form_container,spacing:2,children:[Object(H.jsx)(Se.a,{item:!0,xs:12,children:Object(H.jsx)(Ie.a,{type:"email",label:"Email",variant:"outlined",className:n.login__form_email,color:"secondary",fullWidth:!0,onChange:function(e){return j(e.target.value)}})}),Object(H.jsx)(Se.a,{item:!0,xs:12,children:Object(H.jsx)(Ie.a,{type:"password",label:"Password",variant:"outlined",className:n.login__form_password,color:"secondary",fullWidth:!0,onChange:function(e){return _(e.target.value)}})}),Object(H.jsx)(Se.a,{container:!0,justify:"center",alignItems:"center",children:Object(H.jsx)(Se.a,{item:!0,children:Object(H.jsx)(g.a,{size:"large",className:n.login__form_button,variant:"outlined",type:"submit",children:"Login"})})}),Object(H.jsx)(m.a,{children:"or"}),Object(H.jsx)(Se.a,{container:!0,justify:"center",alignItems:"center",className:n.login__register_link,children:Object(H.jsx)(Se.a,{item:!0,children:Object(H.jsx)(m.a,{variant:"h6",component:"h6",children:Object(H.jsx)(o.b,{to:A?"/registration?redirect=".concat(A):"/registration",children:"Create an account"})})})})]})})]})})},Te=n.p+"static/media/shirts.58b93615.jpg",Re=Object(d.a)((function(){return{register:{margin:"auto",height:"93.5vh",background:"url(".concat(Te,") rgba(0, 0, 0, 0.6)"),backgroundSize:"cover",backgroundBlendMode:"multiply",backgroundPosition:"right",padding:50},login__title_container:{marginBottom:30},login__title:{fontWeight:"bold",textTransform:"uppercase"},login__form_button:{marginTop:20,marginBottom:10,fontWeight:"bold"},login__forgot_link:{marginTop:10}}})),Pe=function(e){var t=e.location,n=Re(),r=Object(s.e)(),c=Object(a.useState)(null),i=Object(l.a)(c,2),d=i[0],j=i[1],b=Object(a.useState)(null),h=Object(l.a)(b,2),p=h[0],O=h[1],_=Object(a.useState)(null),f=Object(l.a)(_,2),x=f[0],v=f[1],N=Object(a.useState)(null),E=Object(l.a)(N,2),k=E[0],R=E[1],P=Object(a.useState)(null),U=Object(l.a)(P,2),A=U[0],W=U[1],F=Object(y.b)(),z=Object(y.c)((function(e){return e.userRegister})),D=z.isLoading,q=z.error,B=z.userInfo,M=t.search?t.search.split("=")[1]:"/",Q=function(e){e.preventDefault(),x!==k?W("Passwords do not match"):F(function(e,t,n){return function(){var a=Object(I.a)(S.a.mark((function a(r){var c,i;return S.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,r({type:w}),a.next=4,G()({method:"post",baseURL:J,url:"/",headers:{"Content-Type":"application/json"},data:{name:e,email:t,password:n}});case 4:c=a.sent,i=c.data,r({type:C,payload:i}),r({type:L,payload:i}),localStorage.setItem("userInfo",JSON.stringify(i)),a.next=14;break;case 11:a.prev=11,a.t0=a.catch(0),r({type:T,payload:a.t0.response&&a.t0.response.data.message?a.t0.response.data.message:a.t0.message});case 14:case"end":return a.stop()}}),a,null,[[0,11]])})));return function(e){return a.apply(this,arguments)}}()}(d,p,x))};return Object(a.useEffect)((function(){B&&r.push(M)}),[r,B,M]),Object(H.jsx)(u.a,{component:"section",className:n.register,children:Object(H.jsxs)(Ee,{isLoading:D,error:q,children:[A&&Object(H.jsx)(be,{severity:"error",children:A}),Object(H.jsx)(Se.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:n.login__title_container,children:Object(H.jsx)(m.a,{variant:"h5",className:n.login__title,children:"Getting Started"})}),Object(H.jsx)(u.a,{component:"form",className:n.login__form,noValidate:!0,autoComplete:"off",onSubmit:function(e){return Q(e)},children:Object(H.jsxs)(Se.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:n.login__form_container,spacing:2,children:[Object(H.jsx)(Se.a,{item:!0,xs:12,children:Object(H.jsx)(Ie.a,{type:"email",label:"Email",variant:"outlined",className:n.login__form_email,color:"secondary",fullWidth:!0,onChange:function(e){return O(e.target.value)}})}),Object(H.jsx)(Se.a,{item:!0,xs:12,children:Object(H.jsx)(Ie.a,{type:"password",label:"Password",variant:"outlined",className:n.login__form_password,color:"secondary",fullWidth:!0,onChange:function(e){return v(e.target.value)}})}),Object(H.jsx)(Se.a,{item:!0,xs:12,children:Object(H.jsx)(Ie.a,{type:"password",label:"Confirm Password",variant:"outlined",className:n.login__form_password,color:"secondary",fullWidth:!0,onChange:function(e){return R(e.target.value)}})}),Object(H.jsx)(Se.a,{item:!0,xs:12,children:Object(H.jsx)(Ie.a,{type:"text",label:"Name",variant:"outlined",className:n.login__form_name,color:"secondary",fullWidth:!0,onChange:function(e){return j(e.target.value)}})}),Object(H.jsx)(Se.a,{container:!0,justify:"center",alignItems:"center",children:Object(H.jsx)(Se.a,{item:!0,children:Object(H.jsx)(g.a,{size:"large",className:n.login__form_button,variant:"outlined",type:"submit",children:"Register"})})}),Object(H.jsx)(m.a,{children:"or"}),Object(H.jsx)(Se.a,{container:!0,justify:"center",alignItems:"center",className:n.login__forgot_link,children:Object(H.jsx)(Se.a,{item:!0,children:Object(H.jsx)(m.a,{variant:"h6",component:"h6",children:Object(H.jsx)(o.b,{to:M?"/login?redirect=".concat(M):"/login",children:"Sign back in"})})})})]})})]})})},Ue=n(196),Ae=n(197),We=n(198),Fe=n(199),ze=n(200),De="CART_APPEND_ITEM",qe="CART_REMOVE_ITEM",Be=function(e,t){return function(){var n=Object(I.a)(S.a.mark((function n(a,r){var c,i;return S.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,G()({method:"get",baseURL:Q,url:"/".concat(e)});case 2:c=n.sent,i=c.data,a({type:De,payload:{id:i._id,name:i.name,brand:i.brand,image:i.image,price:i.price,qty:t}}),localStorage.setItem("cartItems",JSON.stringify(r().cart.cartItems));case 6:case"end":return n.stop()}}),n)})));return function(e,t){return n.apply(this,arguments)}}()},Me=n(195),Ge=n(201),Qe=n(202),Je=n(203),Ve=n(204),$e=n(69),He=Object(d.a)((function(e){return{root:{margin:"auto",width:"80%",padding:50},cart__root:{margin:"50px 0"},cart__container:{display:"flex",width:"100%"},cart__image:{width:"25%"},cart__info:{width:"35%"},cart__quantity_title:{fontWeight:"bold"},cart__quantity:{maxWidth:60,"& > div > input":{textAlign:"center"}},cart__subtotal:{textAlign:"right",marginTop:20},cart__subtotal_container:{float:"right"},cart__quantity_controls:{marginLeft:10},cart__checkout_button:{color:$e.a[200],backgroundColor:$e.a[900],float:"right",marginTop:20,"&:hover":{backgroundColor:$e.a[700]}}}})),Ye=function(e){var t=e.match,n=e.location,c=Object(s.e)(),i=He(),l=t.params.id,d=n.search?Number(n.search.split("=")[1]):1,j=Object(y.b)(),b=Object(y.c)((function(e){return e.cart})).cartItems;return Object(a.useEffect)((function(){l&&j(Be(l,d))}),[j,l,d]),Object(H.jsx)(r.a.Fragment,{children:Object(H.jsxs)(u.a,{component:"section",className:i.root,children:[Object(H.jsx)(g.a,{onClick:function(){c.goBack()},startIcon:Object(H.jsx)(Me.a,{}),children:"Go Back"}),Object(H.jsx)(m.a,{variant:"h4",children:"Cart"}),0===b.length?Object(H.jsx)(be,{children:"Hurray! You've cleared out your cart!"}):Object(H.jsx)(Se.a,{container:!0,className:i.cart__root,spacing:4,children:b.map((function(e){return Object(H.jsx)(Se.a,{item:!0,xs:12,children:Object(H.jsxs)(Ue.a,{className:i.cart__container,elevation:6,children:[Object(H.jsx)(Ae.a,{className:i.cart__image,image:e.image}),Object(H.jsxs)(We.a,{className:i.cart__info,children:[Object(H.jsx)(o.b,{to:"/item/".concat(e.id),children:Object(H.jsx)(m.a,{variant:"h4",children:e.name})}),Object(H.jsxs)(m.a,{gutterBottom:!0,component:"h6",children:["by ",e.brand]}),Object(H.jsxs)(m.a,{variant:"h5",children:["$",e.price]})]}),Object(H.jsxs)(Fe.a,{children:[Object(H.jsx)(ze.a,{orientation:"vertical"}),Object(H.jsxs)(Se.a,{container:!0,spacing:1,children:[Object(H.jsx)(Se.a,{item:!0,children:Object(H.jsx)(m.a,{component:"h6",className:i.cart__quantity_title,gutterBottom:!0,children:"Quantity:"})}),Object(H.jsxs)(Se.a,{item:!0,className:i.cart__quantity_controls,children:[Object(H.jsx)(h.a,{color:"secondary",size:"small",onClick:function(){return j(Be(e.id,--e.qty))},disabled:1===e.qty,children:Object(H.jsx)(Ge.a,{})}),Object(H.jsx)(Ie.a,{className:i.cart__quantity,value:e.qty,variant:"outlined",size:"small",color:"secondary"}),Object(H.jsx)(h.a,{color:"secondary",size:"small",onClick:function(){return j(Be(e.id,++e.qty))},disabled:e.qty===e.countInStock,children:Object(H.jsx)(Qe.a,{})})]}),Object(H.jsx)(Se.a,{item:!0,children:Object(H.jsx)(ze.a,{orientation:"vertical"})}),Object(H.jsx)(Se.a,{item:!0,children:Object(H.jsx)(g.a,{style:{color:$.a[900]},startIcon:Object(H.jsx)(Je.a,{}),onClick:function(){var t;j((t=e.id,function(){var e=Object(I.a)(S.a.mark((function e(n,a){return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n({type:qe,payload:t}),localStorage.setItem("cartItems",JSON.stringify(a().cart.cartItems));case 2:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()))},children:"Remove from Cart"})})]})]})]})},e.id)}))}),Object(H.jsx)(ze.a,{}),Object(H.jsx)(Se.a,{container:!0,className:i.cart__subtotal_container,children:Object(H.jsxs)(Se.a,{item:!0,xs:!0,children:[Object(H.jsxs)(u.a,{className:i.cart__subtotal,children:[Object(H.jsxs)(m.a,{variant:"h5",children:["Total: $",b.reduce((function(e,t){return e+t.price*t.qty}),0).toFixed(2)," "]}),Object(H.jsxs)(m.a,{variant:"h6",children:["Qty: ",b.reduce((function(e,t){return e+t.qty}),0)," ","item(s)"]})]}),Object(H.jsx)(g.a,{className:i.cart__checkout_button,startIcon:Object(H.jsx)(Ve.a,{}),variant:"contained",disabled:0===b.reduce((function(e,t){return e+t.qty}),0),children:"Checkout"})]})})]})})},Ke=n(218),Xe=n(205),Ze=n(206),et=n(207),tt=n(67),nt=n(68),at=Object(d.a)((function(e){return{root:{margin:"auto",width:"80%",padding:50},item__container:{paddingTop:20},item__image:{maxWidth:"100%",border:"1px solid #e9e9e9"},item__info:{display:"flex",flexDirection:"column",justifyContent:"space-between"},item__brand:{marginLeft:5},item__description:{fontStyle:"italic"},item__highlight:{backgroundColor:"#ffffd6"},item__presale:{textDecoration:"line-through",color:"#ccc"},item__price:{fontWeight:700},item__stock:{fontWeight:700},item__limited:{color:tt.a[600],fontWeight:700},item__out:{color:"red",fontWeight:700},hidden:{display:"none"},item__actions:{padding:20},item__quantity_title:{fontWeight:"bold"},item__quantity_controls:{marginLeft:10},item__quantity:{maxWidth:60,"& > div > input":{textAlign:"center"}},"@media only screen and (max-width: 900px)":{item__container:{flexDirection:"column"}}}})),rt=function(e){var t=e.match,n=Object(s.e)(),c=at(),i=Object(y.b)(),o=Object(y.c)((function(e){return e.itemDetail})),d=o.isLoading,j=o.error,b=o.item,p=Object(a.useState)(1),O=Object(l.a)(p,2),_=O[0],f=O[1];return Object(a.useEffect)((function(){var e;i((e=t.params.id,function(){var t=Object(I.a)(S.a.mark((function t(n){var a,r;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:le}),t.next=4,G()({method:"get",baseURL:Q,url:"/".concat(e)});case 4:a=t.sent,r=a.data,n({type:de,payload:r}),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),n({type:ue,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 12:case"end":return t.stop()}}),t,null,[[0,9]])})));return function(e){return t.apply(this,arguments)}}()))}),[t,i]),Object(H.jsx)(r.a.Fragment,{children:d?Object(H.jsx)(pe,{}):j?Object(H.jsx)(be,{severity:"error",children:j}):Object(H.jsxs)(u.a,{component:"section",className:c.root,children:[Object(H.jsx)(g.a,{onClick:function(){n.goBack()},startIcon:Object(H.jsx)(Me.a,{}),children:"Go Back"}),Object(H.jsxs)(Se.a,{container:!0,spacing:3,className:c.item__container,children:[Object(H.jsx)(Se.a,{item:!0,xs:6,children:Object(H.jsx)("img",{src:b.image,alt:b.name,className:c.item__image})}),Object(H.jsxs)(Se.a,{item:!0,xs:6,className:c.item__info,children:[Object(H.jsxs)(u.a,{children:[Object(H.jsxs)(m.a,{component:"span",children:[Object(H.jsx)(m.a,{variant:"h2",children:b.name}),Object(H.jsxs)(m.a,{variant:"h6",className:c.item__brand,children:["by ",b.brand]})]}),Object(H.jsx)(ze.a,{})]}),Object(H.jsx)(m.a,{variant:"subtitle1",className:c.item__description,children:b.description}),Object(H.jsxs)(Ue.a,{className:c.item__highlight,raised:!0,children:[Object(H.jsxs)(We.a,{children:[Object(H.jsxs)(m.a,{variant:"h6",className:c.item__price,children:["Price:"," ",Object(H.jsxs)("span",{className:b.presalePrice===b.price?c.hidden:c.item__presale,children:["$",b.presalePrice]})," ","$",b.price]}),Object(H.jsx)(m.a,{component:"h6",className:0===b.countInStock?c.item__out:b.countInStock<20?c.item__limited:c.item__stock,children:0===b.countInStock?"Out of Stock":b.countInStock<20?"In Stock: "+b.countInStock+" (Few Stocks Left)":"In Stock: "+b.countInStock})]}),Object(H.jsx)(ze.a,{}),Object(H.jsx)(Fe.a,{className:c.item__actions,children:Object(H.jsxs)(Se.a,{container:!0,direction:"column",justify:"flex-start",alignItems:"flex-start",spacing:1,children:[Object(H.jsxs)(Se.a,{container:!0,children:[Object(H.jsx)(Se.a,{item:!0,children:Object(H.jsx)(m.a,{component:"h6",className:c.item__quantity_title,children:"Quantity:"})}),Object(H.jsxs)(Se.a,{item:!0,className:c.item__quantity_controls,children:[Object(H.jsx)(h.a,{color:"secondary",size:"small",onClick:function(){return f(_-1)},disabled:1===_,children:Object(H.jsx)(Ge.a,{})}),Object(H.jsx)(Ie.a,{className:c.item__quantity,value:_,variant:"outlined",size:"small",color:"secondary"}),Object(H.jsx)(h.a,{color:"secondary",size:"small",onClick:function(){return f(_+1)},disabled:_===b.countInStock,children:Object(H.jsx)(Qe.a,{})})]})]}),Object(H.jsxs)(Se.a,{container:!0,children:[Object(H.jsx)(Se.a,{item:!0,children:Object(H.jsx)(g.a,{style:{color:$e.a[600]},startIcon:Object(H.jsx)(Xe.a,{}),disabled:0===b.countInStock,onClick:function(){n.push("/cart/".concat(t.params.id,"?qty=").concat(_))},children:"Add to Cart"})}),Object(H.jsx)(Se.a,{item:!0,children:Object(H.jsx)(g.a,{style:{color:$.a[400]},startIcon:Object(H.jsx)(Ze.a,{}),children:"Add to Wishlist"})}),Object(H.jsx)(Se.a,{item:!0,children:Object(H.jsx)(g.a,{style:{color:nt.a[400]},startIcon:Object(H.jsx)(et.a,{}),children:"Share"})})]})]})})]}),Object(H.jsxs)(u.a,{children:[Object(H.jsx)(ze.a,{}),Object(H.jsx)(Se.a,{container:!0,spacing:1,children:b.numReviews>0?Object(H.jsxs)(r.a.Fragment,{children:[Object(H.jsx)(Se.a,{item:!0,children:Object(H.jsxs)(m.a,{variant:"subtitle2",children:["Rating: ",b.rating,Object(H.jsx)(Ke.a,{precision:.5,value:b.rating,size:"small",readOnly:!0})]})}),Object(H.jsx)(Se.a,{item:!0,children:Object(H.jsxs)(m.a,{variant:"subtitle2",children:["(",b.numReviews," reviews)"]})})]}):Object(H.jsx)(m.a,{variant:"subtitle2",children:"No Ratings yet"})})]})]})]})]})})},ct=n(220),it=n(217),ot=n(208),st=n(209),lt=n(210),dt=Object(d.a)((function(){return{profile__container:{backgroundColor:"#e7ffff"},profile__avatar:{width:100,height:100,margin:"30px auto",fontSize:60},profile__text:{textAlign:"center"},update__form_container:{"& > div":{width:"50%"}},update__form:{marginTop:30}}})),ut=function(){var e=dt(),t=Object(s.e)(),n=Object(a.useState)(!1),r=Object(l.a)(n,2),c=r[0],i=r[1],o=Object(a.useState)(!1),d=Object(l.a)(o,2),j=d[0],b=d[1],p=Object(a.useState)(null),O=Object(l.a)(p,2),_=O[0],f=O[1],x=Object(a.useState)(null),v=Object(l.a)(x,2),N=v[0],E=v[1],k=Object(a.useState)(null),w=Object(l.a)(k,2),C=w[0],T=w[1],M=Object(a.useState)(null),Q=Object(l.a)(M,2),Y=Q[0],K=Q[1],X=Object(a.useState)(null),Z=Object(l.a)(X,2),ee=Z[0],te=Z[1],ne=Object(y.b)(),ae=Object(y.c)((function(e){return e.userLogin})).userInfo,re=Object(y.c)((function(e){return e.userProfile})),ce=re.isLoading,ie=re.error,oe=re.user,se=Object(y.c)((function(e){return e.updateProfile})).success,le=function(e){e.preventDefault(),C!==Y?te("Passwords do not match"):ne(function(e){return function(){var t=Object(I.a)(S.a.mark((function t(n,a){var r,c,i,o;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:A}),r=a(),c=r.userLogin.userInfo,t.next=5,G()({method:"put",baseURL:J,url:"/profile",data:e,headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}});case 5:i=t.sent,o=i.data,n({type:W,payload:o}),n({type:L,payload:o}),localStorage.setItem("userInfo",JSON.stringify(o)),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),n({type:F,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 15:case"end":return t.stop()}}),t,null,[[0,12]])})));return function(e,n){return t.apply(this,arguments)}}()}({id:oe._id,name:_,email:N,password:C}))};return Object(a.useEffect)((function(){var e;ae?oe.name&&oe&&!se?(f(oe.name),E(oe.email)):(ne({type:z}),ne((e="profile",function(){var t=Object(I.a)(S.a.mark((function t(n,a){var r,c,i,o;return S.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,n({type:R}),r=a(),c=r.userLogin.userInfo,t.next=5,G()({method:"get",baseURL:J,url:"/".concat(e),headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(c.token)}});case 5:i=t.sent,o=i.data,n({type:P,payload:o}),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),n({type:U,payload:t.t0.response&&t.t0.response.data.message?t.t0.response.data.message:t.t0.message});case 13:case"end":return t.stop()}}),t,null,[[0,10]])})));return function(e,n){return t.apply(this,arguments)}}())),i(!1)):t.push("/login")}),[ae,t,ne,oe,se]),Object(H.jsxs)(u.a,{component:"section",children:[Object(H.jsx)(Se.a,{container:!0,alignContent:"center",justify:"center",spacing:10,children:Object(H.jsx)(Se.a,{item:!0,xs:3,children:Object(H.jsxs)(Ue.a,{elevation:5,className:e.profile__container,children:[Object(H.jsxs)(We.a,{className:e.profile__container_content,children:[Object(H.jsx)(ct.a,{className:e.profile__avatar,children:ae?ae.name[0]:null}),Object(H.jsx)(m.a,{className:e.profile__text,variant:"h4",children:ae?ae.name:null}),Object(H.jsx)(m.a,{className:e.profile__text,variant:"h6",children:ae?ae.email:null})]}),Object(H.jsx)(ze.a,{}),Object(H.jsx)(Fe.a,{children:Object(H.jsxs)(Se.a,{container:!0,justify:"space-between",children:[Object(H.jsx)(Se.a,{item:!0,children:Object(H.jsx)(g.a,{style:{color:nt.a[800]},onClick:function(){i(!0)},children:"Edit Profile"})}),Object(H.jsx)(Se.a,{item:!0,children:Object(H.jsx)(g.a,{style:{color:$.a[800],borderColor:$.a[800]},variant:"outlined",onClick:function(){return b(!0)},children:"Delete Account"})})]})})]})})}),Object(H.jsxs)(it.a,{open:c,children:[Object(H.jsx)(ot.a,{children:Object(H.jsxs)(Se.a,{container:!0,justify:"space-between",children:[Object(H.jsx)(Se.a,{item:!0,children:"Update Profile"}),Object(H.jsx)(Se.a,{item:!0,children:Object(H.jsx)(h.a,{size:"small",onClick:function(){return i(!1)},children:Object(H.jsx)(ke.a,{})})})]})}),Object(H.jsx)(ze.a,{}),Object(H.jsx)(st.a,{className:e.update__form_container,children:Object(H.jsxs)(Ee,{isLoading:ce,error:ie,children:[ee&&Object(H.jsx)(be,{severity:"error",children:ee}),Object(H.jsx)(u.a,{component:"form",className:e.update__form,noValidate:!0,autoComplete:"off",onSubmit:function(e){return le(e)},children:Object(H.jsxs)(Se.a,{container:!0,direction:"row",justify:"center",alignItems:"center",className:e.update__form_container,spacing:2,children:[Object(H.jsx)(Se.a,{item:!0,xs:12,children:Object(H.jsx)(Ie.a,{type:"text",label:"Name",variant:"outlined",className:e.update__form_name,color:"secondary",value:_,fullWidth:!0,onChange:function(e){return f(e.target.value)}})}),Object(H.jsx)(Se.a,{item:!0,xs:12,children:Object(H.jsx)(Ie.a,{type:"email",label:"Email",variant:"outlined",className:e.update__form_email,color:"secondary",value:N,fullWidth:!0,onChange:function(e){return E(e.target.value)}})}),Object(H.jsx)(Se.a,{item:!0,xs:12,children:Object(H.jsx)(Ie.a,{type:"password",label:"Password",variant:"outlined",className:e.update__form_password,color:"secondary",fullWidth:!0,onChange:function(e){return T(e.target.value)}})}),Object(H.jsx)(Se.a,{item:!0,xs:12,children:Object(H.jsx)(Ie.a,{type:"password",label:"Confirm Password",variant:"outlined",className:e.update__form_password,color:"secondary",fullWidth:!0,onChange:function(e){return K(e.target.value)}})}),Object(H.jsx)(Se.a,{container:!0,justify:"center",alignItems:"center",children:Object(H.jsx)(Se.a,{item:!0,children:Object(H.jsx)(g.a,{size:"large",className:e.update__form_button,variant:"outlined",type:"submit",children:"Update"})})})]})})]})})]}),Object(H.jsxs)(it.a,{open:j,children:[Object(H.jsx)(ot.a,{children:"Delete Profile"}),Object(H.jsx)(ze.a,{}),Object(H.jsx)(st.a,{className:e.update__form_container,children:Object(H.jsx)(m.a,{children:"Are you sure you want to delete your profile?"})}),Object(H.jsxs)(lt.a,{children:[Object(H.jsx)(g.a,{onClick:function(){return b(!1)},autoFocus:!0,children:"No"}),Object(H.jsx)(g.a,{onClick:function(){ne(function(){var e=Object(I.a)(S.a.mark((function e(t,n){var a,r;return S.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t({type:D}),a=n(),r=a.userLogin.userInfo,e.next=5,G()({method:"delete",baseURL:J,url:"/profile",headers:{Authorization:"Bearer ".concat(r.token)}});case 5:t({type:q}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),t({type:B,payload:e.t0.response&&e.t0.response.data.message?e.t0.response.data.message:e.t0.message});case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,n){return e.apply(this,arguments)}}()),ne(V()),t.push("/login")},style:{color:$.a[800],borderColor:$.a[800]},variant:"outlined",children:"Yes"})]})]})]})};var jt=function(){return Object(H.jsx)(o.a,{children:Object(H.jsx)(X.a,{theme:te,children:Object(H.jsxs)(u.a,{component:"main",children:[Object(H.jsx)(K,{}),Object(H.jsx)(s.a,{path:"/",component:ye,exact:!0}),Object(H.jsx)(s.a,{path:"/login",component:Ce,exact:!0}),Object(H.jsx)(s.a,{path:"/registration",component:Pe,exact:!0}),Object(H.jsx)(s.a,{path:"/profile",component:ut,exact:!0}),Object(H.jsx)(s.a,{path:"/cart/:id?",component:Ye}),Object(H.jsx)(s.a,{path:"/item/:id",component:rt})]})})})},bt=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,222)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,i=t.getTTFB;n(e),a(e),r(e),c(e),i(e)}))},mt=n(46),ht=n(97),pt=n(98),gt=n(27),Ot=n(100),_t=Object(mt.combineReducers)({itemList:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{items:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case ie:return{isLoading:!0,items:[]};case oe:return{isLoading:!1,items:t.payload};case se:return{isLoading:!1,error:t.payload};default:return e}},itemDetail:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{item:{reviews:[]}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case le:return Object(gt.a)({isLoading:!0},e);case de:return{isLoading:!1,item:t.payload};case ue:return{isLoading:!1,error:t.payload};default:return e}},cart:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{cartItems:[]},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case De:var n=t.payload,a=e.cartItems.find((function(e){return e.id===n.id}));return a?Object(gt.a)(Object(gt.a)({},e),{},{cartItems:e.cartItems.map((function(e){return e.id===a.id?n:e}))}):Object(gt.a)(Object(gt.a)({},e),{},{cartItems:[].concat(Object(Ot.a)(e.cartItems),[n])});case qe:return Object(gt.a)(Object(gt.a)({},e),{},{cartItems:e.cartItems.filter((function(e){return e.id!==t.payload}))});default:return e}},userLogin:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case N:return{isLoading:!0};case L:return{isLoading:!1,userInfo:t.payload};case E:return{isLoading:!1,error:t.payload};case k:return{};default:return e}},userRegister:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return{isLoading:!0};case C:return{isLoading:!1,userInfo:t.payload};case T:return{isLoading:!1,error:t.payload};default:return e}},userProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{user:{}},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R:return Object(gt.a)(Object(gt.a)({},e),{},{isLoading:!0});case P:return{isLoading:!1,user:t.payload};case U:return{isLoading:!1,error:t.payload};default:return e}},updateProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case A:return{isLoading:!0};case W:return{isLoading:!1,success:!0,userInfo:t.payload};case F:return{isLoading:!1,error:t.payload};case z:return{};default:return e}},deleteProfile:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case D:return{isLoading:!0};case q:return{isLoading:!1,deleteSuccess:!0};case B:return{isLoading:!1,error:t.payload};default:return e}}}),ft={cart:{cartItems:localStorage.getItem("cartItems")?JSON.parse(localStorage.getItem("cartItems")):[]},userLogin:{userInfo:localStorage.getItem("userInfo")?JSON.parse(localStorage.getItem("userInfo")):""}},xt=[ht.a],yt=Object(mt.createStore)(_t,ft,Object(pt.composeWithDevTools)(mt.applyMiddleware.apply(void 0,xt)));i.a.render(Object(H.jsx)(y.a,{store:yt,children:Object(H.jsx)(jt,{})}),document.getElementById("root")),bt()}},[[145,1,2]]]);
//# sourceMappingURL=main.c9f3fc74.chunk.js.map